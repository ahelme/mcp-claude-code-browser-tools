<!doctype html>
<html>
  <head>
    <style>
      * {
        margin: 0;
        padding: 0;
      }

      body {
        font-family:
          -apple-system, BlinkMacSystemFont, "Segoe UI", Inter, system-ui,
          sans-serif;
        font-size: 11px;
        line-height: 1.3;
        background: #1a1a1a;
        color: #e4e4e7;
        padding: 8px;
        height: 100vh;
        overflow: hidden;
      }

      .container {
        display: grid;
        grid-template-columns: 1fr 1fr 1fr 0.5fr;
        gap: 8px;
        height: 100%;
        max-height: 120px;
        width: 100%;
      }

      .panel {
        background: #262626;
        border: 1px solid #404040;
        border-radius: 4px;
        padding: 4px;
        margin-bottom: 10px;
        display: flex;
        flex-direction: column;
        gap: 4px;
        min-width: 0; /* Allow flex items to shrink */
      }

      .panel-title {
        font-weight: 600;
        font-size: 10px;
        color: #a1a1aa;
        text-transform: uppercase;
        letter-spacing: 0.5px;
        margin-bottom: 2px;
      }

      .tool-row {
        display: flex;
        gap: 3px;
        align-items: center;
      }

      .input-row {
        display: flex;
        gap: 2px;
        align-items: center;
      }

      .btn {
        background: #3f3f46;
        border: 1px solid #52525b;
        color: #f4f4f5;
        font-size: 9px;
        padding: 2px 6px;
        border-radius: 3px;
        cursor: pointer;
        transition: all 0.15s ease;
        font-weight: 500;
        text-align: center;
        min-width: 0;
        flex: 1;
        white-space: nowrap;
      }

      .btn:hover {
        background: #52525b;
        border-color: #71717a;
      }

      .btn:active {
        background: #27272a;
        border-color: #3f3f46;
        transform: translateY(1px);
        box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.3);
      }

      .btn.primary {
        background: #0ea5e9;
        border-color: #0284c7;
        color: white;
      }

      .btn.primary:hover {
        background: #0284c7;
        border-color: #0369a1;
      }

      .btn.primary:active {
        background: #0369a1;
        border-color: #075985;
        transform: translateY(1px);
        box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.3);
      }

      .btn.success {
        background: #10b981;
        border-color: #059669;
        color: white;
      }

      .btn.success:hover {
        background: #059669;
        border-color: #047857;
      }

      .btn.success:active {
        background: #047857;
        border-color: #065f46;
        transform: translateY(1px);
        box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.3);
      }

      .btn.warning {
        background: #f59e0b;
        border-color: #d97706;
        color: white;
      }

      .btn.warning:hover {
        background: #d97706;
        border-color: #b45309;
      }

      .btn.warning:active {
        background: #b45309;
        border-color: #92400e;
        transform: translateY(1px);
        box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.3);
      }

      .btn.audit {
        background: #f97316;
        border-color: #ea580c;
        color: white;
        height: 16px;
        padding: 0px;
      }

      .btn.audit:hover {
        background: #ea580c;
        border-color: #c2410c;
      }

      .btn.audit:active {
        background: #c2410c;
        border-color: #9a3412;
        transform: translateY(1px);
        box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.3);
      }

      .btn.danger {
        background: #ef4444;
        border-color: #dc2626;
        color: white;
      }

      .btn.magenta {
        background: #d946ef;
        border-color: #c026d3;
        color: white;
      }

      .btn.magenta:hover {
        background: #c026d3;
        border-color: #a21caf;
      }

      .btn.magenta:active {
        background: #a21caf;
        border-color: #86198f;
        transform: translateY(1px);
        box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.3);
      }

      .btn.aqua {
        background: #06b6d4;
        border-color: #0891b2;
        color: white;
      }

      .btn.aqua:hover {
        background: #0891b2;
        border-color: #0e7490;
      }

      .btn.aqua:active {
        background: #0e7490;
        border-color: #155e75;
        transform: translateY(1px);
        box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.3);
      }

      .input {
        background: #1a1a1a;
        border: 1px solid #404040;
        color: #f4f4f5;
        font-size: 9px;
        padding: 2px 4px;
        border-radius: 2px;
        flex: 1;
        min-width: 0;
      }

      .input:focus {
        outline: none;
        border-color: #0ea5e9;
        box-shadow: 0 0 0 1px #0ea5e9;
      }

      .status-indicator {
        width: 6px;
        height: 6px;
        border-radius: 50%;
        display: inline-block;
        margin-right: 4px;
      }

      .status-connected {
        background: #10b981;
        box-shadow: 0 0 4px #10b98150;
      }

      .status-disconnected {
        background: #ef4444;
        box-shadow: 0 0 4px #ef444450;
      }

      .scan-indicator {
        width: 6px;
        height: 6px;
        border-radius: 50%;
        display: inline-block;
        margin-right: 4px;
      }

      .scan-indicator.ready-state {
        background: #71717a;
        box-shadow: 0 0 3px #71717a50;
      }

      .scan-indicator.scanning {
        background: #38bdf8;
        box-shadow: 0 0 4px #38bdf850;
        animation: pulse 1.5s ease-in-out infinite;
      }

      .scan-indicator.connected {
        background: #10b981;
        box-shadow: 0 0 4px #10b98150;
      }

      .scan-indicator.failed {
        background: #ef4444;
        box-shadow: 0 0 4px #ef444450;
      }

      .screenshot-preview {
        font-size: 8px;
        color: #a1a1aa;
        padding: 2px 4px;
        line-height: 1.3;
      }

      .screenshot-filename {
        color: #ffffff;
        font-weight: bold;
        font-size: 9px;
      }

      .connection-status {
        display: flex;
        align-items: center;
        font-size: 8px;
        color: #a1a1aa;
        margin-bottom: 3px;
      }

      .dropdown {
        background: #1a1a1a;
        border: 1px solid #404040;
        color: #f4f4f5;
        font-size: 9px;
        padding: 1px 3px;
        border-radius: 2px;
        min-width: 60px;
      }

      .logs-display {
        background: #0a0a0a;
        border: 1px solid #262626;
        border-radius: 2px;
        padding: 3px;
        font-family:
          "SF Mono", Monaco, "Cascadia Code", "Roboto Mono", Consolas,
          "Courier New", monospace;
        font-size: 8px;
        line-height: 1.2;
        color: #a1a1aa;
        height: 55px;
        overflow-y: auto;
        margin-top: 2px;
      }

      .log-entry {
        margin-bottom: 1px;
        word-break: break-all;
      }

      .log-info {
        color: #93c5fd;
      }

      .checkbox {
        width: 8px;
        height: 8px;
        margin-right: 2px;
      }

      .label {
        font-size: 7px;
        color: #d4d4d8;
        display: flex;
        align-items: center;
        cursor: pointer;
      }

      /* Advanced panel specific styles */
      .advanced-panel {
        padding: 4px;
        overflow: hidden;
      }

      .advanced-title {
        font-weight: 600;
        font-size: 9px;
        color: #a1a1aa;
        text-transform: uppercase;
        letter-spacing: 0.5px;
        margin-bottom: 2px;
      }

      .advanced-label {
        font-size: 7px;
        color: #71717a;
        margin-bottom: 1px;
      }

      .advanced-input {
        width: 100%;
        font-size: 8px;
        padding: 1px 2px;
        margin-bottom: 2px;
        background: #1a1a1a;
        border: 1px solid #404040;
        color: #f4f4f5;
        border-radius: 2px;
      }

      .advanced-checkbox {
        font-size: 7px;
        display: block;
        color: #d4d4d8;
        margin-bottom: 1px;
      }

      /* Responsive Design - Tablet */
      @media (max-width: 800px) {
        .container {
          grid-template-columns: 1fr 1fr;
          grid-template-rows: 1fr 1fr;
          max-height: 240px;
        }

        /* Explicit grid positioning for equal 2x2 layout */
        .panel:nth-child(1) {
          grid-column: 1;
          grid-row: 1;
        } /* Configuration */
        .panel:nth-child(2) {
          grid-column: 2;
          grid-row: 1;
        } /* Code & Content */
        .panel:nth-child(3) {
          grid-column: 1;
          grid-row: 2;
        } /* Console & Status */
        .panel:nth-child(4) {
          grid-column: 2;
          grid-row: 2;
        } /* Advanced */
      }

      @media (max-width: 600px) {
        .container {
          grid-template-columns: 1fr;
          grid-template-rows: auto auto auto auto;
          max-height: none;
          gap: 4px;
        }

        /* Explicit single column layout */
        .panel:nth-child(1) {
          grid-column: 1;
          grid-row: 1;
        } /* Configuration */
        .panel:nth-child(2) {
          grid-column: 1;
          grid-row: 2;
        } /* Code & Content */
        .panel:nth-child(3) {
          grid-column: 1;
          grid-row: 3;
        } /* Console & Status */
        .panel:nth-child(4) {
          grid-column: 1;
          grid-row: 4;
        } /* Advanced */

        .panel {
          padding: 4px;
        }

        body {
          padding: 4px;
        }
      }

      ::-webkit-scrollbar {
        width: 4px;
      }

      ::-webkit-scrollbar-track {
        background: #1a1a1a;
      }

      ::-webkit-scrollbar-thumb {
        background: #404040;
        border-radius: 2px;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <!-- Panel 1: Configuration -->
      <div class="panel">
        <div class="panel-title">Configuration</div>
        <div class="input-row">
          <div style="width: 65%">
            <input
              type="text"
              class="input"
              id="server-host"
              placeholder="localhost"
              value="localhost"
              style="width: 100%"
            />
          </div>
          <div style="width: 10%">
            <input
              type="number"
              class="input"
              id="server-port"
              placeholder="3024"
              value="3024"
              min="1"
              max="65535"
              style="width: 100%"
            />
          </div>
          <div style="width: 25%">
            <button
              class="btn primary"
              id="test-connection"
              style="width: 100%"
            >
              Connect
            </button>
          </div>
        </div>
        <div class="tool-row">
          <div style="width: 60%">
            <button
              class="btn aqua"
              id="discover-server"
              style="font-size: 8px; width: 100%"
            >
              Scan for Bridge Port (3000-4000)
            </button>
          </div>
          <div style="width: 40%">
            <div
              id="scan-status"
              style="
                font-size: 8px;
                color: #a1a1aa;
                padding: 2px 4px;
                line-height: 1.3;
                display: flex;
                align-items: center;
              "
            >
              <span
                class="scan-indicator ready-state"
                id="scan-indicator"
              ></span>
              <span id="scan-text">Ready to scan...</span>
            </div>
          </div>
        </div>
        <div
          style="
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 2px;
          "
        >
          <div style="font-size: 9px; color: #d4d4d8; font-weight: 500">
            Screenshots Directory:
          </div>
          <label
            class="label"
            style="font-size: 8px; display: flex; align-items: center"
          >
            <input
              type="checkbox"
              class="checkbox"
              id="auto-paste-cb"
              style="width: 8px; height: 8px; margin-right: 3px"
            />
            Auto-Paste 📸 to Client
          </label>
        </div>
        <div class="input-row">
          <input
            type="text"
            class="input"
            id="screenshot-path"
            placeholder="/path/to/screenshots"
          />
        </div>
      </div>

      <!-- Panel 2: Code & Content -->
      <div class="panel">
        <div class="panel-title">Code & Content</div>
        <div class="input-row">
          <div style="width: 25%">
            <button class="btn audit" id="audit-btn" style="width: 100%">
              🌐 Audit
            </button>
          </div>
          <div style="width: 50%">
            <input
              type="text"
              class="input"
              id="js-input"
              placeholder="document.title"
              style="width: 100%"
            />
          </div>
          <div style="width: 25%">
            <button class="btn warning" id="evaluate-btn" style="width: 100%">
              JS
            </button>
          </div>
        </div>
        <div class="input-row">
          <div style="width: 15%">
            <select class="dropdown" id="content-format" style="width: 100%">
              <option value="html">HTML</option>
              <option value="text">Text</option>
            </select>
          </div>
          <div style="width: 15%">
            <button
              class="btn magenta"
              id="get-content-btn"
              style="width: 100%"
            >
              Get
            </button>
          </div>
          <div style="width: 50%">
            <input
              type="text"
              class="input"
              id="selector-input"
              placeholder="#element, .class"
              style="width: 100%"
            />
          </div>
          <div style="width: 20%">
            <button class="btn" id="select-btn" style="width: 100%">
              Select
            </button>
          </div>
        </div>
        <div class="tool-row">
          <div style="width: 40%">
            <button class="btn success" id="screenshot-btn" style="width: 100%">
              Take screenshot 📸
            </button>
          </div>
          <div style="width: 60%">
            <div class="screenshot-preview">
              <div>Next: page-title_2025-09-17_0001.png</div>
              <div>
                Last:
                <span class="screenshot-filename"
                  >GitHub_Repository_2025-09-17_0003.png</span
                >
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Panel 3: Console & Status -->
      <div class="panel">
        <div
          style="
            display: flex;
            justify-content: space-between;
            align-items: center;
          "
        >
          <div style="display: flex; align-items: center; gap: 6px">
            <div class="panel-title">Console & Status</div>
            <div class="connection-status" style="margin-bottom: 0">
              <span
                class="status-indicator status-disconnected"
                id="status-indicator"
              ></span>
              <span id="status-text">Disconnected</span>
            </div>
          </div>
          <div style="display: flex; gap: 8px">
            <label class="label" style="font-size: 7px">
              <input
                type="checkbox"
                class="checkbox"
                id="verbose-cb"
                style="width: 8px; height: 8px"
              />
              Verbose
            </label>
          </div>
        </div>
        <div class="tool-row">
          <select class="dropdown" id="log-level">
            <option value="all">All</option>
            <option value="error">Errors</option>
            <option value="warn">Warnings</option>
            <option value="info">Info</option>
          </select>
          <button class="btn" id="get-console-btn">Logs</button>
          <button class="btn danger" id="clear-logs-btn">Clear</button>
        </div>
        <div class="logs-display" id="logs-display" style="height: 55px">
          <div class="log-entry log-info">Browser Tools ready...</div>
        </div>
      </div>

      <!-- Panel 4: Advanced -->
      <div class="panel advanced-panel">
        <div class="advanced-title">ADVANCED</div>
        <div style="display: flex; gap: 4px; margin-bottom: 3px">
          <div style="flex: 1">
            <div style="font-size: 7px; color: #71717a; margin-bottom: 1px">
              Log Limit:
            </div>
            <input
              type="number"
              class="input"
              id="log-limit"
              placeholder="50"
              value="50"
              min="1"
              style="width: 100%; font-size: 8px; padding: 1px 2px"
            />
          </div>
          <div style="flex: 1">
            <div style="font-size: 7px; color: #71717a; margin-bottom: 1px">
              Query Limit:
            </div>
            <input
              type="number"
              class="input"
              id="query-limit"
              placeholder="30K"
              value="30000"
              min="1"
              style="width: 100%; font-size: 8px; padding: 1px 2px"
            />
          </div>
        </div>
        <label class="label" style="font-size: 7px; display: block">
          <input
            type="checkbox"
            class="checkbox"
            id="show-request-headers"
            style="width: 8px; height: 8px; margin-right: 2px"
          />
          Incl. Request Headers
        </label>
        <label class="label" style="font-size: 7px; display: block">
          <input
            type="checkbox"
            class="checkbox"
            id="show-response-headers"
            style="width: 8px; height: 8px; margin-right: 2px"
          />
          Incl. Response Headers
        </label>
        <input type="hidden" id="string-size-limit" value="500" />
        <input type="hidden" id="max-log-size" value="20000" />
      </div>
    </div>
  </body>
</html>
